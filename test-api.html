<!DOCTYPE html>
<html>
<head><title>API Test</title></head>
<body>
<h2>Testing API...</h2>
<div id="result"></div>
<script>
const API = 'https://jiafutang-api.dongranranface.workers.dev';

async function test() {
    try {
        const res = await fetch(API + '/api/collections');
        const data = await res.json();
        document.getElementById('result').innerHTML = '<pre>Collections: ' + JSON.stringify(data, null, 2) + '</pre>';
        
        const res2 = await fetch(API + '/api/news');
        const data2 = await res2.json();
        document.getElementById('result').innerHTML += '<pre>News: ' + JSON.stringify(data2, null, 2) + '</pre>';
    } catch(e) {
        document.getElementById('result').innerHTML = 'Error: ' + e.message;
    }
}
test();
</script>
</body>
</html>
